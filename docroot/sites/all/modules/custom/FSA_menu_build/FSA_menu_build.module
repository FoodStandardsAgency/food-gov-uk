<?php
/**
 * Created by PhpStorm.
 * User: Peter
 * Date: 07/07/14
 * Time: 16:34
 */

/**
 * Implements hook_menu().
 *
 * Set up admin settings callbacks, etc.
 */
function FSA_menu_build_menu() {
  $items = array();
  $items['admin/menubuild'] = array(
    'title' => 'Menubuild',
    'description' => 'Build menus after migration.',
    'page callback' => 'FSA_menu_build_page',
    'access arguments' => array('administer site'),
  );
  return $items;
}

/**
* Page controller.
 */
function FSA_menu_build_page(){
  set_time_limit(0);
  // build a tree of all migrated nodes
  $url_tree = FSA_menu_build_process_list(FSA_menu_build_get_url_list());
  $output = kprint_r($url_tree,1);
  // disable the migrate pathauto override
  variable_set('fsa_migrate_pathauto_restrict', FALSE);
  // now, recurse through the tree, and assign menu parents

  if (isset($_REQUEST['reset'])) {
    FSA_menu_build_flag('reset');
  }

  FSA_menu_build_assign($url_tree);
  variable_set('menu_rebuild_needed', TRUE);
  return $output;
}

function FSA_menu_build_get_list_from_CSV($file){

}


function FSA_menu_build_clear_redirects($path = null){
  //query to delete all bad redirects
  //  delete r from url_alias a join redirect r on a.alias = r.source;
  if ($path) {
    if ($redirect = redirect_load_by_source($path)) {
      redirect_delete($redirect->rid);
    }
  }

}
/**
 * Retrieve the list of urls to process
 */
function FSA_menu_build_get_url_list($file = null){
  if (!$file) {
    $url_list = array(
      '/business-industry/allergy-guide/',
      '/business-industry/allergy-guide/gluten/',
      '/business-industry/caterers/',
      '/business-industry/caterers/food-hygiene/',
      '/business-industry/caterers/food-hygiene/butchers/',
      '/business-industry/caterers/food-hygiene/food-waste/',
      '/business-industry/caterers/food-hygiene/premises-hygiene/',
      '/business-industry/caterers/food-hygiene/premises-hygiene/movable-temp-premises/',
      '/business-industry/caterers/food-hygiene/schoolfood',
      '/business-industry/caterers/food-hygiene/water-supply/',
      '/business-industry/caterers/food-law-inspections/',
      '/business-industry/caterers/haccp/',
      '/business-industry/caterers/hygieneratings/',
      '/business-industry/caterers/hygieneratings/fhrsbackground/',
      '/business-industry/caterers/hygieneratings/fhrsbackground/citizens-forums/',
      '/business-industry/caterers/hygieneratings/fhrsbackground/sotdconsultation/',
      '/business-industry/caterers/hygieneratings/fhrsbackground/sotdcorrespondence/',
      '/business-industry/caterers/hygieneratings/fhrsbackground/sotdevaluation',
      '/business-industry/caterers/hygieneratings/toolkit/',
      '/business-industry/caterers/hygieneratings/ukschemes/',
      '/business-industry/caterers/sfbb/',
      '/business-industry/caterers/sfbb/carehomes/',
      '/business-industry/caterers/sfbb/sfbbcaterers/',
      '/business-industry/caterers/sfbb/sfbbchildminders/',
      '/business-industry/caterers/sfbb/sfbbcolleges/',
      '/business-industry/caterers/sfbb/sfbbcuisines/',
      '/business-industry/caterers/sfbb/sfbblanguages/',
      '/business-industry/caterers/sfbb/sfbbretail/',
      '/business-industry/caterers/startingup/',
      '/business-industry/caterers/startingup/childminders/',
      '/business-industry/caterers/startingup/distanceguide',
      '/business-industry/caterers/training/',
      '/business-industry/caterers/training/hygiene-videos',
      '/business-industry/exports/',
      '/business-industry/farmingfood/',
      '/business-industry/farmingfood/animalfeed/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/animal-feed-legislation-summary/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/animal-feed-legislation-summary/animal-feed-legislation-ni/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/animal-feed-legislation-summary/animal-feed-scotland-summary/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/animal-feed-legislation-summary/animal-feed-summary-eng/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/animal-feed-legislation-summary/animal-feed-summary-wales/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/approvregfeedguidance',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/export-unauthorised-feed',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/feed-fats-oils-guidance/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/feed-fats-oils-guidance/feed-fat-oils-monitoring/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/feedundesirables',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/food-and-drink-businesses/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/guidfarm',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/market-use-animal-feed/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/pet-food/',
      '/business-industry/farmingfood/animalfeed/review-of-official-feed-controls-delivery/',
      '/business-industry/farmingfood/animalfeed/what-farm-animals-eat/',
      '/business-industry/farmingfood/bse/',
      '/business-industry/farmingfood/bse/controls',
      '/business-industry/farmingfood/cleaner-animals/',
      '/business-industry/farmingfood/cleaner-animals/flocks/',
      '/business-industry/farmingfood/crops/',
      '/business-industry/farmingfood/crops/manures',
      '/business-industry/farmingfood/crops/mycotoxinsguidance/',
      '/business-industry/farmingfood/crops/mycotoxinsguidance/animalfeed/',
      '/business-industry/farmingfood/crops/mycotoxinsguidance/fusarium/',
      '/business-industry/farmingfood/crops/mycotoxinsguidance/mycotoxins-legislation/',
      '/business-industry/farmingfood/crops/mycotoxinsguidance/mycotoxinssampling',
      '/business-industry/farmingfood/dairy-guidance/',
      '/business-industry/farmingfood/dairy-guidance/cheeserecovery',
      '/business-industry/farmingfood/dairy-guidance/guidancemilktestantibioticres',
      '/business-industry/farmingfood/dairy-guidance/milk-hygiene-guide-for-milk-producers/',
      '/business-industry/farmingfood/dairy-guidance/rawmilkcream',
      '/business-industry/farmingfood/fish-shellfish/',
      '/business-industry/farmingfood/fish-shellfish/fish-shellfish-guidance/',
      '/business-industry/farmingfood/fish-shellfish/freezing-requirements-guidance/',
      '/business-industry/farmingfood/mycotoxins/',
      '/business-industry/farmingfood/mycotoxins/about/',
      '/business-industry/farmingfood/pesticides/',
      '/business-industry/farmingfood/pesticides/cropguides',
      '/business-industry/farmingfood/vetmeds/',
      '/business-industry/farmingfood/wildgameguidance/',
      '/business-industry/food-incidents/',
      '/business-industry/guidancenotes/food-law-controls-guidance/',
      '/business-industry/guidancenotes/guidance-farmers/',
      '/business-industry/guidancenotes/hygguid/',
      '/business-industry/guidancenotes/hygguid/ecoliguide',
      '/business-industry/guidancenotes/hygguid/eggenforcement',
      '/business-industry/guidancenotes/hygguid/euhygieneregulationsflexibilities/',
      '/business-industry/guidancenotes/hygguid/euhygieneregulationsflexibilities/flexexmig',
      '/business-industry/guidancenotes/hygguid/feed-activity-codes',
      '/business-industry/guidancenotes/hygguid/fhlguidance/',
      '/business-industry/guidancenotes/hygguid/fhlguidance/milkfarmhygni',
      '/business-industry/guidancenotes/hygguid/food-industry-guides',
      '/business-industry/guidancenotes/hygguid/foodhandlersguide',
      '/business-industry/guidancenotes/hygguid/fsactguide',
      '/business-industry/guidancenotes/hygguid/generalfoodlaw',
      '/business-industry/guidancenotes/hygguid/microbiolreg',
      '/business-industry/guidancenotes/hygguid/outbreakmanagement',
      '/business-industry/guidancenotes/hygguid/tempcontrolguidanceuk',
      '/business-industry/guidancenotes/hygguid/wastecookingoil',
      '/business-industry/guidancenotes/labelregsguidance/',
      '/business-industry/guidancenotes/labelregsguidance/allergenlabelguide2009',
      '/business-industry/guidancenotes/labelregsguidance/gmguidance',
      '/business-industry/guidancenotes/labelregsguidance/guidancelabellinggluten2010',
      '/business-industry/guidancenotes/labelregsguidance/labellingfoodcoloursreg13332008',
      '/business-industry/guidancenotes/labelregsguidance/maycontainguide',
      '/business-industry/guidancenotes/labelregsguidance/nonprepacked',
      '/business-industry/guidancenotes/meatregsguid/',
      '/business-industry/guidancenotes/meatregsguid/chargesguide',
      '/business-industry/guidancenotes/meatregsguid/coproductbyproductguide',
      '/business-industry/guidancenotes/meatregsguid/dsm-guidance',
      '/business-industry/guidancenotes/meatregsguid/emergencycattleslaughter',
      '/business-industry/guidancenotes/meatregsguid/farmgamehealth',
      '/business-industry/guidancenotes/meatregsguid/fcibovinetb',
      '/business-industry/guidancenotes/meatregsguid/fciguidance/',
      '/business-industry/guidancenotes/meatregsguid/fciguidance/fciew',
      '/business-industry/guidancenotes/meatregsguid/fciguidance/fciscot',
      '/business-industry/guidancenotes/meatregsguid/fciipoultry',
      '/business-industry/guidancenotes/meatregsguid/fcipigslaughter',
      '/business-industry/guidancenotes/meatregsguid/home-slaughter-livestock/',
      '/business-industry/guidancenotes/meatregsguid/home-slaughter-livestock/livestockguidance/',
      '/business-industry/guidancenotes/meatregsguid/illegalmeatguidance',
      '/business-industry/guidancenotes/meatregsguid/mincedmeatdays',
      '/business-industry/guidancenotes/meatregsguid/nitritesnitrates',
      '/business-industry/guidancenotes/meatregsguid/poultryslaughterauth',
      '/business-industry/guidancenotes/meatregsguid/snailguidance',
      '/business-industry/guidancenotes/meatregsguid/trichinellatestingwildboar',
      '/business-industry/guidancenotes/water-juice-guidance/',
      '/business-industry/guidancenotes/water-juice-guidance/natural-mineral-water',
      '/business-industry/how-to-make-an-appeal/',
      '/business-industry/how-to-make-an-appeal/panel/',
      '/business-industry/imports/banned_restricted/',
      '/business-industry/imports/banned_restricted/aflatoxinreg11522009',
      '/business-industry/imports/banned_restricted/calabashchalk',
      '/business-industry/imports/banned_restricted/china',
      '/business-industry/imports/banned_restricted/chinarice',
      '/business-industry/imports/banned_restricted/guargumindia',
      '/business-industry/imports/banned_restricted/highrisknonpoao',
      '/business-industry/imports/banned_restricted/highrisknonpoao-91-2013',
      '/business-industry/imports/banned_restricted/import-betel-leaves',
      '/business-industry/imports/banned_restricted/japan',
      '/business-industry/imports/banned_restricted/kavakava',
      '/business-industry/imports/banned_restricted/kitchenware',
      '/business-industry/imports/banned_restricted/konjac',
      '/business-industry/imports/banned_restricted/milkandsoya-china',
      '/business-industry/imports/banned_restricted/pine-nuts-china/',
      '/business-industry/imports/banned_restricted/pine-nuts-china/pine-nut-exporters',
      '/business-industry/imports/banned_restricted/red2g',
      '/business-industry/imports/banned_restricted/restricted_foodstuffs',
      '/business-industry/imports/banned_restricted/spices',
      '/business-industry/imports/banned_restricted/sunflower',
      '/business-industry/imports/contacts/',
      '/business-industry/imports/contacts/imp_links/',
      '/business-industry/imports/importers/',
      '/business-industry/imports/importers/additivesimports',
      '/business-industry/imports/importers/contaminant/',
      '/business-industry/imports/importers/contaminant/Aflatoxin',
      '/business-industry/imports/importers/contaminant/soysauce',
      '/business-industry/imports/importers/ecguidance',
      '/business-industry/imports/importers/importsuppliers',
      '/business-industry/imports/importers/importtesting',
      '/business-industry/imports/importers/irradiated',
      '/business-industry/imports/importers/labelling',
      '/business-industry/imports/importers/legislation',
      '/business-industry/imports/importers/pointofentry',
      '/business-industry/imports/importers/redress/',
      '/business-industry/imports/importers/redress/redress1',
      '/business-industry/imports/importers/redress/redress2',
      '/business-industry/imports/importers/redress/redress3',
      '/business-industry/imports/importers/redress/redress4',
      '/business-industry/imports/importers/redress/redress5',
      '/business-industry/imports/importers/trade-samples-testing',
      '/business-industry/imports/personalimportsx/',
      '/business-industry/imports/want_to_import/',
      '/business-industry/imports/want_to_import/animalimports/',
      '/business-industry/imports/want_to_import/animalimports/dairy',
      '/business-industry/imports/want_to_import/animalimports/eggs',
      '/business-industry/imports/want_to_import/animalimports/gelatine',
      '/business-industry/imports/want_to_import/animalimports/honey',
      '/business-industry/imports/want_to_import/animalimports/meat',
      '/business-industry/imports/want_to_import/compositeprods',
      '/business-industry/imports/want_to_import/fisheryproducts/',
      '/business-industry/imports/want_to_import/tradeinfosheets',
      '/business-industry/manufacturers/',
      '/business-industry/manufacturers/additives-supps-guidance/',
      '/business-industry/manufacturers/additives-supps-guidance/foodadlegguid',
      '/business-industry/manufacturers/contaminants-fcm-guidance/',
      '/business-industry/manufacturers/contaminants-fcm-guidance/about-the-regulations/',
      '/business-industry/manufacturers/contaminants-fcm-guidance/foodmaterialarticleguidance2010',
      '/business-industry/manufacturers/contaminants-fcm-guidance/guidancefoodcontams09',
      '/business-industry/manufacturers/contaminants-fcm-guidance/legalcompliancefoodpackaging',
      '/business-industry/manufacturers/contaminants-fcm-guidance/legcontamfood',
      '/business-industry/manufacturers/myhaccp/',
      '/business-industry/manufacturers/shelf-life-storage/',
      '/business-industry/manufacturers/shelf-life-storage/quick-frozen-foodstuffs/',
      '/business-industry/manufacturers/shelf-life-storage/readytoeat',
      '/business-industry/manufacturers/shelf-life-storage/vacpac',
      '/business-industry/meat/',
      '/business-industry/meat/audit/',
      '/business-industry/meat/audit/auditprocess/',
      '/business-industry/meat/audit/auditprocess/auditprocess-prenov12',
      '/business-industry/meat/audit/concern',
      '/business-industry/meat/fci/',
      '/business-industry/meat/guidehygienemeat',
      '/business-industry/meat/haccpmeatplants/',
      '/business-industry/meat/haccpmeatplants/microbiologicalcriteria',
      '/business-industry/meat/meataudit/',
      '/business-industry/meat/trichinella-pigs/',
      '/business-industry/meat/trichinella-pigs/trichinella-pigs-testing/',
      '/business-industry/meat/trichinella-pigs/trichinella-pigs-testing/trichinella-testing-items/',
      '/business-industry/winestandards/',
      '/business-industry/winestandards/contactinspectors',
      '/business-industry/winestandards/lawguide/',
      '/business-industry/winestandards/lawguide/vineyards-wine-regs-summary/',
      '/business-industry/winestandards/lawguide/wine-regs-guidance/',
      '/business-industry/winestandards/lawguidex',
      '/business-industry/winestandards/ukvineyards',
      '/business-industry/winestandards/wine-documentary-checks/',
      '/business-industry/winestandards/wine-imports/',
      '/business-industry/winestandards/wine-labelling/',
      '/business-industry/winestandards/wineguidance/',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/breachesaug2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/breachesjan09',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/breachesmarch2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/monrepsrmbrenov2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/monrepsrmsept2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/imported2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/individualbsebreaches09/',
      '/business-industry/farmingfood/bse/bsecontrol/2009/srmbreaches09',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/breachesaug2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/breachesjan09',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/breachesmarch2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/monrepsrmbrenov2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/breaches2009/monrepsrmsept2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/imported2009',
      '/business-industry/farmingfood/bse/bsecontrol/2009/individualbsebreaches09/',
      '/business-industry/farmingfood/bse/bsecontrol/2009/srmbreaches09',
      '/business-industry/farmingfood/bse/bsecontrol/2010/brsrmconrep2010/',
      '/business-industry/farmingfood/bse/bsecontrol/2010/brsrmconrep2010/feb10',
      '/business-industry/farmingfood/bse/bsecontrol/2010/individualcb2010/',
      '/business-industry/farmingfood/bse/bsecontrol/2010/srm2010',
      '/business-industry/farmingfood/bse/bsecontrol/2011/indiv2011/',
      '/business-industry/farmingfood/bse/bsecontrol/2011/srmreport11/',
      '/business-industry/farmingfood/bse/bsecontrol/2012/indiv2012/',
      '/business-industry/farmingfood/bse/bsecontrol/2012/srm-2012/',
      '/business-industry/farmingfood/bse/bsecontrol/2013/srm-breaches-apr-sep13/',
      '/business-industry/farmingfood/cleaner-animals/cleaner-cattle-sheep/cattle/',
      '/business-industry/farmingfood/cleaner-animals/cleaner-cattle-sheep/cattle/cleancattle10keymessages',
      '/business-industry/farmingfood/cleaner-animals/cleaner-cattle-sheep/clean-animals-guidance/',
      '/business-industry/farmingfood/cleaner-animals/cleaner-cattle-sheep/research-clean-animals/',
      '/business-industry/farmingfood/cleaner-animals/cleaner-cattle-sheep/sheep/',
      '/news-updates/campaigns/christmas2012/bwydmwydiogel',
      '/news-updates/campaigns/christmas2012/saferfoodbetterchristmas',
      '/news-updates/campaigns/germwatch/fsq',
      '/news-updates/campaigns/germwatch/fswpartners',
      '/news-updates/campaigns/germwatch/science-fsw/freezing',
      '/news-updates/campaigns/germwatch/science-fsw/fridge-temperatures',
      '/news-updates/campaigns/germwatch/science-fsw/leftovers',
      '/news-updates/campaigns/germwatch/science-fsw/use-by-dates',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/tool',
      '/news-updates/campaigns/',
      '/news-updates/campaigns/campylobacter/',
      '/news-updates/campaigns/campylobacter/actnow/',
      '/news-updates/campaigns/campylobacter/actnow/our-campaign-partners/',
      '/news-updates/campaigns/campylobacter/fsw-2014/',
      '/news-updates/campaigns/campylobacter/fsw-2014/fsw-2014/',
      '/news-updates/campaigns/christmas2012/',
      '/news-updates/campaigns/food-at-christmas/',
      '/news-updates/campaigns/food-at-christmas/eating-out-campaign/',
      '/news-updates/campaigns/food-at-christmas/food-at-home-campaign/',
      '/news-updates/campaigns/food-at-christmas/make-christmas-go-further/',
      '/news-updates/campaigns/food-at-christmas/recipe-for-a-great-meal-out-this-christmas/',
      '/news-updates/campaigns/germwatch/',
      '/news-updates/campaigns/germwatch/resources/',
      '/news-updates/campaigns/germwatch/science-fsw/',
      '/news-updates/campaigns/good-for-business/',
      '/news-updates/campaigns/kitchen-check/fridge-clinic/',
      '/news-updates/campaigns/kitchen-check/kc-social-media/',
      '/news-updates/campaigns/kitchen-check/kc-tips/',
      '/news-updates/campaigns/kitchen-check/kc-yp/',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/kitchen-check-stakeholders/fsw-press-release/',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/kitchen-check-stakeholders/kc-web-banner/',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/kitchen-check-stakeholders/kitchen-check-leaflets/',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/kitchen-check-stakeholders/kitchen-check-printed/',
      '/news-updates/campaigns/kitchen-check/kitchen-check1/kitchen-check-stakeholders/kitchen-check-yp/',
      '/news-updates/campaigns/olympicfood/',
      '/news-updates/campaigns/olympics/',
      '/news-updates/campaigns/staycation-toolkit-2014/',
      '/news-updates/campaigns/turkey/',
      '/news-updates/campaigns/valentines/',
      '/news-updates/help-shape-our-policies/',
      '/news-updates/help-shape-our-policies/allergy-guidance/',
      '/news-updates/help-shape-our-policies/ari-initiative/',
      '/news-updates/help-shape-our-policies/class-b/',
      '/news-updates/help-shape-our-policies/consolidation-legislation/',
      '/news-updates/help-shape-our-policies/cost-proposed-stricter-listeria-criteria/',
      '/news-updates/help-shape-our-policies/emergency-slaughter-proposal/',
      '/news-updates/help-shape-our-policies/emergency-slaughter/',
      '/news-updates/help-shape-our-policies/equines/',
      '/news-updates/help-shape-our-policies/food-contact-materials/',
      '/news-updates/help-shape-our-policies/home-slaughter-livestock/',
      '/news-updates/help-shape-our-policies/pig-meat-inspection/',
      '/news-updates/help-shape-our-policies/reviewing-regs-england/',
      '/news-updates/help-shape-our-policies/standalone-cold-stores-policy-review/',
      '/news-updates/help-shape-our-policies/unskinned-large-wild-game-animals/',
      '/news-updates/help-shape-our-policies/warm-meat/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/852auditsscotland/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/approvedestablishmentswales/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/audit-inland-feed-ests/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/cheeserecovery',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/complianceaudits/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/complianceaudits/compliance-audits-local',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/fsmsauditreport',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/importedfeedcontrolaudit/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/importedfeedfoodaudit/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/importedfnaoreport2011',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/interauthoritypeerreview/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/jointtraceabilityaudit',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/lameatcontrolsaudit/',
      '/enforcement/auditandmonitoring/auditreports/auditfocus/walesauditdisease',
      '/enforcement/auditandmonitoring/iaaudittoolkit',
      '/enforcement/enfcomm/',
      '/enforcement/enfcomm/aacs/',
      '/enforcement/enfcomm/aacs/auditcomscot110812',
      '/enforcement/enfcomm/aacs/auditscot100611min',
      '/enforcement/enfcomm/aacs/auditscot60913',
      '/enforcement/enfcomm/aacs/auditscotminutes110408',
      '/enforcement/enfcomm/aacs/auditscotminutes130112',
      '/enforcement/enfcomm/aflelg/',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/aflelg110210',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/aflelg110308min',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/aflelg111012min',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/aflelgmeet25oct13',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/aflelgmeet3oct12',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/aflelgmeet7mar13',
      '/enforcement/enfcomm/aflelg/aflelgmeetings/animalfeedmeeting2012',
      '/enforcement/enfcomm/aflelg/aflelgmembertor',
      '/enforcement/enfcomm/aflelg/nafpp/',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/mins010312',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpmins26sep12',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpmins4feb13',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp-minutes-130919/',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp-minutes-131217',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp090122',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp090708',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp090903min',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp100225',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp100916',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafpp110929',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafppmin110210',
      '/enforcement/enfcomm/aflelg/nafpp/nafppmeeting/nafppminutes300108',
      '/enforcement/enfcomm/aflelg/nafpp/nafppreference',
      '/enforcement/enfcomm/elg/',
      '/enforcement/enfcomm/elg/elgmeet/',
      '/enforcement/enfcomm/elg/elgmeet/93515',
      '/enforcement/enfcomm/elg/elgmeet/elg081120',
      '/enforcement/enfcomm/elg/elgmeet/elgmin090623',
      '/enforcement/enfcomm/elg/elgmeet/elgmins25jun08',
      '/enforcement/enfcomm/elg/elgmeet/elgminutes081101',
      '/enforcement/enfcomm/elg/elgmeet/elgminutes140501/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutes140501/631728',
      '/enforcement/enfcomm/elg/elgmeet/elgminutes140501/convict',
      '/enforcement/enfcomm/elg/elgmeet/elgminutes140501/smallbushygieneaward',
      '/enforcement/enfcomm/elg/elgmeet/elgminutes160502',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesaug03/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesfeb03/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesfeb04/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesjun',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesjun06/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesmar05/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesmay03/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesmay04/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesmay05/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesnov04/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesnov05/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesnov06/',
      '/enforcement/enfcomm/elg/elgmeet/elgminutesnov07',
      '/enforcement/enfcomm/elg/elgmeet/laelg190202',
      '/enforcement/enforcetrainfund/',
      '/enforcement/enforcetrainfund/btsf',
      '/enforcement/enforcetrainfund/enforcertrainingxxx',
      '/enforcement/enforcetrainfund/onlinetraining/',
      '/enforcement/enforcetrainfund/onlinetraining/allergytraining',
      '/enforcement/enforcetrainfund/onlinetraining/food-labelling-training-online/',
      '/enforcement/enforcetrainfund/onlinetraining/importtraining',
      '/enforcement/enforcetrainfund/onlinetraining/samplingvideo',
      '/enforcement/enforcetrainfund/onlinetraining/vacpacktraining',
      '/enforcement/enforcetrainfund/rdna-grip/',
      '/enforcement/enforcetrainfund/trainingcontacts',
      '/enforcement/enforcetrainfund/ts-factsheets/',
      '/enforcement/enforcework/',
      '/enforcement/enforcework/centralref/',
      '/enforcement/enforcework/centralref/enf-cy/',
      '/enforcement/enforcework/centralref/enf-england/',
      '/enforcement/enforcework/centralref/enf-england/14',
      '/enforcement/enforcework/centralref/enf-ni/',
      '/enforcement/enforcework/centralref/enf-ni/14',
      '/enforcement/enforcework/centralref/enf-scotland/',
      '/enforcement/enforcework/centralref/enf-scotland/14',
      '/enforcement/enforcework/centralref/enf-sts-scotland/',
      '/enforcement/enforcework/centralref/enf-sts-scotland/14',
      '/enforcement/enforcework/centralref/enf-wales/',
      '/enforcement/enforcework/centralref/enf-wales/14',
      '/enforcement/enforcework/compliance/',
      '/enforcement/enforcework/compliance/primary-auth/',
      '/enforcement/enforcework/diversity',
      '/enforcement/enforcework/enforce_authorities/',
      '/enforcement/enforcework/enforce_authorities/bipmanual',
      '/enforcement/enforcework/enforce_authorities/ertslist',
      '/enforcement/enforcework/enforce_authorities/grail',
      '/enforcement/enforcework/enforce_authorities/ifwg/',
      '/enforcement/monitoring/shellfish/shellharvestareas/shellfishharvestingclassni/',
      '/about-us/aboutsite/fsainteractive',
      '/about-us/committees/nutcomms/nutritionstrategy/nssg0108',
      '/about-us/committees/nutcomms/nutritionstrategy/nssg060718mins',
      '/about-us/committees/nutcomms/nutritionstrategy/nssg070612',
      '/about-us/committees/nutcomms/nutritionstrategy/nssg080424',
      '/about-us/committees/nutcomms/nutritionstrategy/nssgminute070123',
      '/about-us/committees/nutcomms/nutritionstrategy/signpostassess060508',
      '/about-us/contactus/contactsbysubject/regions/fms',
      '/about-us/data-and-policies/aboutsite/accesskeys',
      '/about-us/data-and-policies/aboutsite/disclaimer',
      '/about-us/data-and-policies/aboutsite/feedback',
      '/about-us/data-and-policies/aboutsite/rss',
      '/about-us/data-and-policies/aboutsite/termsandconditions/privacypolicy/cookies',
      '/about-us/data-and-policies/aboutsite/termsandconditions/tcssocial/twitterpolicy',
      '/about-us/data-and-policies/annualpublicplan',
      '/about-us/data-and-policies/charter',
      '/about-us/data-and-policies/cspeoplesurvey',
      '/about-us/data-and-policies/equality/diversity-report',
      '/about-us/data-and-policies/equality/divobj',
      '/about-us/data-and-policies/foia/100025',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2005/btmaizefoi',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2005/foirequests2005',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2005/foisudan',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2006/foirequests2006',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2006/ict',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2007/foirequests2007',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/foi2008',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/foimhsaudit0807',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/mhsaudit0508',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/mhsaudit0808',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/mhsauditwales',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/stakesalt',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/draftiaparaspublishedmay09',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/foi2009',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/foifestuca',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/fsp270809',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/mhsaudit090623',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/mhsaudit090818',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/mhsaudits',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/mhsauditsdec09',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/mhsauditsjan',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/mhsauditsmay',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/audits',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/ceexp',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/foi2010',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/foirequest100322',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/fsamhshospitalitygifts0709',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/welshbrosnewport',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/costfsaboardmeetings2011',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/cranswickcountryfoods',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/foi2011',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/foilegalcosts',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/gpcexpenditure',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/hughesmeatsmidglamorganprovision',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/listabattoirscauseforconcern',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/listmeatplantscauseforconcern',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/meatauditsjun11',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/meatplantscauseforconcernsept11',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/bullying-meat-plants',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/bullyingfoi',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/component-scores',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/foi-1252',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/foi-legal-costs',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/foi-ops-group-gift-hospitality-2009-2012',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/mpauditfeb12',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/repbullying',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/fightingfund-welshla',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/foi-request-flights-2011',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/fsai-fsa-comms',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/pub-ia-oc',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/request-highpeak',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/results-findus-foi',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/ts-info',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2014/dna-testing',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2014/food-safety-campaigns',
      '/about-us/data-and-policies/ourstandards-x',
      '/about-us/data-and-policies/transparencydata/gpcexpenditure/gpc2009to2011',
      '/about-us/data-and-policies/underpinning-data',
      '/about-us/fsacomplaintsprocedure',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsapl11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsapr13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsapril12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsaug11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsaug12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsaug13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsdec11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsdec12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsdec13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsept11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsfeb11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsfeb12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsfeb13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsfeb14',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjan11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjan12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjan13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjan14',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjuly12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjuly13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjun11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjune12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsjune13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsmar11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsMar13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsMarch12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsmay11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsmay12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsmay13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsnov11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsnov12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsnov13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsoct11',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsoct13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetssept12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetssept13',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmeetsspet12',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/cedmetsjul11',
      '/about-us/how-we-work/our-board/boardmeetoccasionalpapers/2013/int-13-03-01-fop-board-paper',
      '/about-us/how-we-work/our-board/boardmeetoccasionalpapers/interpapers2011/officalcontchange',
      '/about-us/how-we-work/our-board/boardmeetoccasionalpapers/interpapers2011/redtapechallenge',
      '/about-us/how-we-work/our-board/boardmem/drhenriettacampbell',
      '/about-us/how-we-work/our-board/boardmem/drjameswildgoose',
      '/about-us/how-we-work/our-board/boardmem/heather-peck',
      '/about-us/how-we-work/our-board/boardmem/jeffhalliwell',
      '/about-us/how-we-work/our-board/boardmem/jim-smart',
      '/about-us/how-we-work/our-board/boardmem/lizbreckenridge',
      '/about-us/how-we-work/our-board/boardmem/paulwiles',
      '/about-us/how-we-work/our-board/boardmem/ram-gidoomal',
      '/about-us/how-we-work/our-board/boardmem/roland-salmon',
      '/about-us/how-we-work/our-board/boardmem/timbennett',
      '/about-us/how-we-work/our-board/futureboardagendas',
      '/about-us/how-we-work/procurement/proccontracts',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/06112012',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/10012012',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/11102011',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/17042012',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/24072012',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/cap-members-biography',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/cap-mins-12june13',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/cap-mins-180913',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/consumer-stakeholder-forum/15-june-2011',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/consumer-stakeholder-forum/17-november-2010',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/consumer-stakeholder-forum/18-july-2012',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/consumer-stakeholder-forum/28-june-2010',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/consumer-stakeholder-forum/30-november-2011',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/industry-stakeholder-forum/10-May-2011',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/industry-stakeholder-forum/16-June-2010',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/industry-stakeholder-forum/17-November-2011',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/industry-stakeholder-forum/20-October-2010',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/industry-stakeholder-forum/5-december-2012',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/industry-stakeholder-forum/9-may-2012',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/localauthoritypartnerforum/20100317',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/localauthoritypartnerforum/20100902',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/localauthoritypartnerforum/20110316',
      '/about-us/how-we-work/workingwithothers/stakeholder-forums/localauthoritypartnerforum/20120920',
      '/about-us/jobs/jobsemail/emailjob',
      '/about-us/jobs/workingagency/jobprofiles/aattifahteladia',
      '/about-us/jobs/workingagency/jobprofiles/chrisbryant',
      '/about-us/jobs/workingagency/jobprofiles/mervynbriggs',
      '/about-us/jobs/workingagency/jobprofiles/patrickotto',
      '/about-us/jobs/workingagency/jobprofiles/robertmadge',
      '/about-us/jobs/workingagency/jobprofiles/sarahhardy',
      '/about-us/jobs/workingagency/jobprofiles/willmunro',
      '/about-us/publications/busreps/annualreport/annrepacc0809',
      '/about-us/publications/busreps/annualreport/annrepacc0910',
      '/about-us/publications/busreps/annualreport/anrepacc1011',
      '/about-us/publications/busreps/annualreport/anrepacc1112',
      '/about-us/publications/busreps/csreps/ann_rpt_old',
      '/about-us/about-the-fsa/',
      '/about-us/aboutsite/',
      '/about-us/committees/nutcomms/',
      '/about-us/committees/nutcomms/fdapfn/',
      '/about-us/committees/nutcomms/nutritionstrategy/',
      '/about-us/contactus/contactsbysubject/regions/',
      '/about-us/data-and-policies/',
      '/about-us/data-and-policies/aboutsite/',
      '/about-us/data-and-policies/aboutsite/accessibility/',
      '/about-us/data-and-policies/aboutsite/accessibility/accessibilitystatement/',
      '/about-us/data-and-policies/aboutsite/fsawebsites/',
      '/about-us/data-and-policies/aboutsite/termsandconditions/',
      '/about-us/data-and-policies/aboutsite/termsandconditions/crowncopyright/',
      '/about-us/data-and-policies/aboutsite/termsandconditions/hygiene-rating-data/',
      '/about-us/data-and-policies/aboutsite/termsandconditions/privacypolicy/',
      '/about-us/data-and-policies/aboutsite/termsandconditions/tcssocial/',
      '/about-us/data-and-policies/consultation-approach/',
      '/about-us/data-and-policies/equality/',
      '/about-us/data-and-policies/foia/',
      '/about-us/data-and-policies/foia/foirelease/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2005/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2006/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2007/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2008/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2009/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2010/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2011/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2012/fhrs-component-scores/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2013/',
      '/about-us/data-and-policies/foia/foirelease/foiaeir2014/',
      '/about-us/data-and-policies/foia/public-records-act/',
      '/about-us/data-and-policies/greengov/',
      '/about-us/data-and-policies/greengov/sustainabilityavh/',
      '/about-us/data-and-policies/how-to-make-an-appeal/',
      '/about-us/data-and-policies/ourstandards/',
      '/about-us/data-and-policies/survey/',
      '/about-us/data-and-policies/transparencydata/',
      '/about-us/data-and-policies/transparencydata/expenditureover25k/',
      '/about-us/data-and-policies/transparencydata/expenses-gifts-hospitality/board-directors-gifts-hosp/board-directors-2013-14/',
      '/about-us/data-and-policies/transparencydata/expenses-gifts-hospitality/board-directors-gifts-hosp/board-directors-gifts-hosp-2012-13/',
      '/about-us/data-and-policies/transparencydata/expenses-gifts-hospitality/expenses/expapr11mar12/chair-board-expenses-2011-12/',
      '/about-us/data-and-policies/transparencydata/expenses-gifts-hospitality/expenses/expapr11mar12/chief-exec-directors-expenses-2011-12/',
      '/about-us/data-and-policies/transparencydata/fsa-spend-controls-approved-exemptions/',
      '/about-us/data-and-policies/transparencydata/gpcexpenditure/',
      '/about-us/data-and-policies/transparencydata/organogrampay/',
      '/about-us/data-and-policies/transparencydata/workforcemanagement/',
      '/about-us/data-and-policies/welshlanguagepolicy/',
      '/about-us/how-we-work/',
      '/about-us/how-we-work/aboutourstaff/',
      '/about-us/how-we-work/aboutourstaff/profiles/',
      '/about-us/how-we-work/aboutourstaff/profiles/cedmeetings/',
      '/about-us/how-we-work/agencyandeurope/',
      '/about-us/how-we-work/agencyandeurope/boc/',
      '/about-us/how-we-work/agencyandeurope/database/',
      '/about-us/how-we-work/agencyandeurope/news/',
      '/about-us/how-we-work/our-board/',
      '/about-us/how-we-work/our-board/boardcommittees/',
      '/about-us/how-we-work/our-board/boardcommittees/auditcommittee/',
      '/about-us/how-we-work/our-board/boardcommittees/riskcommittee/',
      '/about-us/how-we-work/our-board/boardcommittees/successiondevelopmentcommittee/',
      '/about-us/how-we-work/our-board/boardmem/',
      '/about-us/how-we-work/procurement/',
      '/about-us/how-we-work/workingwithothers/',
      '/about-us/how-we-work/workingwithothers/consumer-advisory-panel/',
      '/about-us/how-we-work/workingwithothers/intrelations/',
      '/about-us/jobs/workingagency/',
      '/about-us/jobs/workingagency/jobprofiles/',
      '/about-us/jobs/workingagency/workingforfsa/',
      '/about-us/new-scotland/',
      '/about-us/publications/busreps/annualreport/',
      '/about-us/publications/busreps/annualreport/fsa-annual-report-2012-13/',
      '/about-us/publications/busreps/csreps/',
      '/about-us/publications/industrypublications/industry-guides/',
      '/science/additives/55174',
      '/science/additives/energydrinks',
      '/science/additives/enumberlist',
      '/science/additives/foodcolours/colourfree/caterers',
      '/science/additives/foodcolours/colourfree/manufacturers',
      '/science/additives/foodcolours/colourfree/retail',
      '/science/additives/stevia',
      '/science/allergy-intolerance/peanutspregnancy',
      '/science/dietarysurveys/dietsurveys/backgrdcofr',
      '/science/dietarysurveys/ndnsdocuments/ndns0809year1',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndns4',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnsappendices',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnschapter2main',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnsdocssection1',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnssurvey4to18',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnsv2',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnsv303',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/ndnsvol52004',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/printedreportpage',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/reestimatetransfats',
      '/science/dietarysurveys/primaryschoolmeals',
      '/science/dietarysurveys/schoolmealsresearch',
      '/science/dietarysurveys/urinary',
      '/science/microbiology/campylobacterevidenceprogramme/campy-monitoringresults',
      '/science/microbiology/campylobacterevidenceprogramme/campybackground',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg10',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg11',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg12',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg13',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg14',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg15',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg16',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg17',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg18',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg19',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg7',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg8',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/campywg9',
      '/science/microbiology/fds/4cstrat',
      '/science/microbiology/fds/58736',
      '/science/microbiology/fds/dsf-consultative-group/18-october-2010',
      '/science/microbiology/fds/dsf-consultative-group/25-october-2012',
      '/science/microbiology/fds/dsf-consultative-group/29-march-2012',
      '/science/microbiology/fds/dsf-consultative-group/30-march-2011',
      '/science/microbiology/fds/dsf-consultative-group/6-october-2011',
      '/science/microbiology/fds/dsf-consultative-group/dsf-march13',
      '/science/microbiology/fds/fdsprogress',
      '/science/microbiology/flood',
      '/science/microbiology/listeria/listeria-care-settings',
      '/science/novel/cloned/clonemeet/cloned050810',
      '/science/novel/cloned/clonemeet/cloned110810',
      '/science/novel/gm/evaluating',
      '/science/novel/gm/gm_labelling',
      '/science/novel/gm/gmanimal',
      '/science/novel/regulation',
      '/science/ouradvisors/vetproductscommittee',
      '/science/ouradvisors/vetresiduecommittee',
      '/science/sci-gov/commswork/goodpracticeguidelinessacs',
      '/science/sci-gov/commswork/sac-dialogue',
      '/science/sci-gov/decision-making',
      '/science/sci-gov/scistrat',
      '/science/additives/',
      '/science/additives/aspartame/',
      '/science/additives/aspartame/calculating-salt-aspartame-acesulfame/',
      '/science/additives/efsaassessments/',
      '/science/additives/foodcolours/',
      '/science/additives/foodcolours/colourfree/',
      '/science/allergy-intolerance/',
      '/science/allergy-intolerance/allergy-week/',
      '/science/allergy-intolerance/label/',
      '/science/allergy-intolerance/label/labelling-changes/',
      '/science/bpa/',
      '/science/dietarysurveys/',
      '/science/dietarysurveys/analyticalsurveys/',
      '/science/dietarysurveys/dietsurveys/',
      '/science/dietarysurveys/lidnsbranch/',
      '/science/dietarysurveys/minisurveys/',
      '/science/dietarysurveys/ndnsdocuments/',
      '/science/dietarysurveys/ndnsdocuments/ndnsprevioussurveyreports/',
      '/science/dietarysurveys/pfdbranch/',
      '/science/microbiology/',
      '/science/microbiology/campylobacterevidenceprogramme/',
      '/science/microbiology/campylobacterevidenceprogramme/campylobacter-discussion-2013/',
      '/science/microbiology/campylobacterevidenceprogramme/wgcampy/',
      '/science/microbiology/fds/',
      '/science/microbiology/fds/dsf-consultative-group/',
      '/science/microbiology/listeria/',
      '/science/microbiology/norovirus/',
      '/science/microbiology/norovirus/norovirus-eu/',
      '/science/microbiology/norovirus/norovirus-more/',
      '/science/microbiology/norovirus/norovirus-research/',
      '/science/novel/',
      '/science/novel/assess/',
      '/science/novel/cloned/',
      '/science/novel/cloned/clonemeet/',
      '/science/novel/gm/',
      '/science/novel/gm/basics/',
      '/science/novel/gm/gmtt/',
      '/science/novel/nano/',
      '/science/novel/nano/monitoring/',
      '/science/novel/nano/nanofooddiscussiongroup/',
      '/science/novel/nano/regulatory-advice/',
      '/science/novel/unauthorised/',
      '/science/ouradvisors/',
      '/science/rad_in_food/',
      '/science/researchpolicy/',
      '/science/researchpolicy/europeanresearch/',
      '/science/researchpolicy/framework/',
      '/science/sci-gov/',
      '/science/sci-gov/chiefsci/',
      '/science/sci-gov/commswork/',
      '/science/sci-gov/science-governance/',
      '/science/researchfunding/',
      '/science/acrylamide/',
      '/science/allergy-intolerance/label/gluten-faq/',
      '/science/bpa/efsa-bpa-consultation/',
      '/science/bpa/foodcontactmaterialsbpafaq/',
      '/science/irradfoodqa/',
      '/science/novel/faqs/',
      '/science/rad_in_food/radioactivity/',
      '/enforcement/auditandmonitoring/audit_questions/',
      '/enforcement/monitoring/horse-meat/horse-meat-faq/',
      '/enforcement/monitoring/shellfish/shellharvestareas/aboutshellfishclassification/shellclassfaq/',
      '/enforcement/monitoring/shellfish/ssurveys/sanitarysurveyfaq/',
      '/enforcement/sectorrules/feedapprove/feedestablishmentreps/feedreps_questions/',
      '/enforcement/enforcetrainfund/enforcertraining/',
      '/enforcement/regulation/betregs/ria/',
      '/enforcement/enforcework/food-law/',
      '/business-industry/allergy-guide/gluten/gluten-faq-caterers/',
      '/business-industry/caterers/food-hygiene/charity-community-groups/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/animalfeedaddfaq/',
      '/business-industry/farmingfood/animalfeed/animalfeedlegislation/canthaxanthin_qanda/',
      '/business-industry/farmingfood/bse/what/',
      '/business-industry/farmingfood/crops/mycotoxinsguidance/operators/',
      '/business-industry/farmingfood/fish-shellfish/freezing-requirements/',
      '/business-industry/farmingfood/mycotoxins/questions/',
      '/business-industry/farmingfood/pesticides/pestfaq/',
      '/business-industry/farmingfood/primprodqanda/',
      '/business-industry/farmingfood/vetmeds/vetmedfaq/',
      '/business-industry/farmingfood/wildgameguidance/wild-game-faq/',
      '/business-industry/imports/importers/thirdcountryfaq/',
      '/business-industry/imports/want_to_import/personalimports/',
      '/business-industry/winestandards/winefaq/',
      '/business-industry/farmingfood/bse/bsecontrol/',
      '/business-industry/farmingfood/bse/bsecontrol/2009/',
    );



  }

  return $url_list;
}



/**
 * Turn a list of urls into a tree
 * @param $url_list
 * @return array
 */
function FSA_menu_build_process_list($url_list){
  // initialise the tree
  $url_tree = array();
  // sort so that we have all urls in order
  sort($url_list, SORT_STRING);
  // process all urls to build a tree

  foreach ($url_list as $url) {
    // get rid of extra slashes
    $url = trim($url,'/');
    if ($url) {
      FSA_menu_build_graft($url_tree, $url);
    }
  }
 return $url_tree;
}

/**
 * Add a specific url to the tree
 * @param $tree
 * @param $url
 */
function FSA_menu_build_graft(&$url_tree, $url) {
  // move down the tree, until we get to the place we need to be
  // start at the root
  $branch = &$url_tree;
  $branch_url = array();
  foreach (explode('/', $url) as $fragment){
    $branch_url[] = $fragment;
    // if we need to create a new piece, initialise it
    // in case there is no node here, lets set the url
    if (!isset($branch[$fragment])) {
      if (!$internal_url = drupal_lookup_path('source', implode('/',$branch_url))){
        if ($redirects = redirect_load_by_source(implode('/',$branch_url))) {
          // just get one redirect
          $redirects = array_pop($redirects);
          $internal_url = $redirects->url;
        }
      }

      if ($internal_url){
        $branch[$fragment]['#data']['url'] = implode('/',$branch_url);
        $branch[$fragment]['#data']['source_url'] = $internal_url;
        $internal_url_array = explode('/', $internal_url);
        if ($internal_url_array[0] == 'node') {
         // find the nid for the current node
         $branch[$fragment]['#data']['nid'] = $internal_url_array[1];
        }
      }

      // extract menu data
      if (isset($branch[$fragment]['#data']['nid'])) { // if we have a node we can use menu_node
        $branch[$fragment]['#data']['mlid'] = FSA_menu_build_get_main_menu_mlid($branch[$fragment]['#data']);
      }
      // set this to false until its actually the url requested, not just a fragment
      $branch[$fragment]['#data']['process'] = false;
    }
    $branch = &$branch[$fragment];
  }
  // mark this as a node that we should be processing
  $branch['#data']['process'] = true;
}

/**
 * Returns the menu link id for the main menu
 * @param $nid
 * @return int|string
 */
function FSA_menu_build_get_main_menu_mlid($data) {
  $roots = array(
    'business-industry' => 333,
  );

  $result = null;
  if (array_key_exists($data['url'], $roots)) {
    $result = $roots[$data['url']];
  }
  else {
    $links = menu_node_get_links($data['nid']);
    if (is_array($links)) {
      // we found some menu links, now we need to make sure we have the correct menu
      foreach ($links as $mlid => $link_data) {
       if ($link_data->menu_name =='main-menu') {
         $result = $mlid;
        }
      }
    }
  }
  return $result;
}

/**
 * Allow nodes to be locked in the menu system
 * @param $data
 * @return bool
 */
function FSA_menu_build_flag($action = 'check', $url = null) {
  $flagged = &drupal_static(__FUNCTION__);

  if (!isset($flagged)) {
    $flagged = variable_get('FSA_menu_build_processed', array());
  }
  switch ($action){
    case 'check':
      $result = false;
      if (in_array($url, $flagged)) {
        $result = true;
      }
    break;
    case 'set':
      if (!in_array($url, $flagged)) {
        $flagged[] = $url;
      }
      variable_set('FSA_menu_build_processed', $flagged);
      $result = true;
    break;
    case 'reset':
      $flagged = array();
      variable_set('FSA_menu_build_processed',$flagged);
      $result = true;
    break;
  }
  return $result;
}





/**
 * Walk through the url tree and assign menu parents to nodes.
 * @param $url_tree
 */
function FSA_menu_build_assign(&$url_tree, $plid = 0) {

  // if we have a parent link
  // check to see if we should process the current node
  // and make sure that the current node does not already have a main menu entry
  if (
      isset($url_tree['#data']) &&
      $url_tree['#data']['process']
      && !FSA_menu_build_flag('check', $url_tree['#data']['url'])
    ) {
    //? what if we have no plid?
    if (isset($url_tree['#data']['nid'])) {
      $node = node_load($url_tree['#data']['nid']);
      if (isset($url_tree['#data']['mlid'])) {
        // remove the current menu entry
        menu_link_delete($url_tree['#data']['mlid']);
      }
      $node->menu = array(
        'link_title' =>  $node->title, #todo short title
        'enabled' => 1,
        'plid' => $plid,
        'menu_name' => 'main-menu'
      );
      // enable pathauto
      $node->path['pathauto'] = true;
      // save the node with the new menu parent
      node_save($node);
      // the node object is passed by reference, so contains new menu information
      // get the menu link id from the new node
      $mlid = $node->menu['mlid'];
      $url_tree['#data']['mlid'] = $mlid;

      // get rid of bad redirects
      FSA_menu_build_clear_redirects($node->path['alias']);
      // mark node as processed
      FSA_menu_build_flag('set', $url_tree['#data']['url']);
    }
  }
  else if (isset($url_tree['#data']) && isset($url_tree['#data']['mlid'])) {
    // we have already got a menu link
    $mlid = $url_tree['#data']['mlid'];
  }
  // if by this point we have not got a menu id, pass the parent one on
  if (!isset($mlid)) {
    $mlid = $plid;
  }

  // go through all the keys at this level - except the data for this level
  foreach ($url_tree as  $key => &$branch) {
    if ($key != '#data') { // skip the data branch
      // if we have a menu item, we will keep it

      FSA_menu_build_assign($branch, $mlid);
    }
  }


}


/*
 *
 *
node->menu
-> enabled = 1
-> mlid
-> parent (main-menu:plid)

       menu_name = "main-menu"
      'mlid' => 0,
      'plid' => 0,
      'menu_name' => $menu_name,
      'weight' => 0,
      'options' => array(),
      'module' => 'menu',
      'expanded' => 0,
      'hidden' => 0,
      'has_children' => 0,
      'customized' => 0,
 *
 */