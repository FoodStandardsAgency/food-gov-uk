<?php

/**
 * Implements hook_theme_registry_alter().
 */
function local_theme_registry_alter(&$theme_registry) {

  // Add our override function, which will adjust the variables then pass them through the original function.
  if (isset($theme_registry['superfish_build'])) {
    $theme_registry['superfish_build']['function'] = 'theme_local_superfish_build';
  }
}

/**
 *  Adjust the Superfish main menu.
 *
 **/
function theme_local_superfish_build($variables) {

  // Links to be hidden on Main Menu.
  $hide_links = array('FSA in UK', 'FSA in Scotland', 'FSA in Wales', 'FSA in Northern Ireland', 'Repository');

  foreach ($variables['menu'] as $key => $menu_item) {
    if (in_array($menu_item['link']['title'], $hide_links)) {
      unset($variables['menu'][$key]);
    }
  }

  $output = theme_superfish_build($variables);
  return $output;
}

